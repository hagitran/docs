import { useState } from 'react';

export const ThemeDemo = ({ apiKey }) => {
  const [themeMode, setThemeMode] = useState('auto');
  const [text, setText] = useState('');
  const [showCustom, setShowCustom] = useState(false);

const themes = {
light: {
background: '#ffffff',
surface: '#f8fafc',
text: '#1e293b',
border: '#e2e8f0',
primary: '#3b82f6'
},
dark: {
background: '#1f2937',
surface: '#374151',
text: '#f9fafb',
border: '#4b5563',
primary: '#60a5fa'
},
purple: {
background: '#faf5ff',
surface: '#f3e8ff',
text: '#581c87',
border: '#c084fc',
primary: '#8b5cf6'
}
};

const MockInput = ({ theme, label, placeholder }) => {
const themeStyles = themes[theme] || themes.light;

    return (
      <div style={{
        padding: '16px',
        backgroundColor: themeStyles.background,
        borderRadius: '8px',
        border: `1px solid ${themeStyles.border}`,
        marginBottom: '12px'
      }}>
        <label style={{
          display: 'block',
          fontSize: '14px',
          fontWeight: '500',
          color: themeStyles.text,
          marginBottom: '8px'
        }}>
          {label}
        </label>
        <input
          type="text"
          placeholder={placeholder}
          value={text}
          onChange={(e) => setText(e.target.value)}
          style={{
            width: '100%',
            padding: '8px 12px',
            backgroundColor: themeStyles.surface,
            border: `1px solid ${themeStyles.border}`,
            borderRadius: '6px',
            color: themeStyles.text,
            outline: 'none',
            fontSize: '14px'
          }}
        />
        <div style={{
          marginTop: '8px',
          fontSize: '12px',
          color: themeStyles.primary,
          opacity: 0.8
        }}>
          Theme: {theme} | Primary: {themeStyles.primary}
        </div>
      </div>
    );

};

return (
<div style={{
      padding: '24px',
      backgroundColor: '#18181b',
      borderRadius: '8px',
      border: '1px solid #27272a',
      marginBottom: '24px'
    }}>
<h3 style={{ color: '#ffffff', marginBottom: '16px', fontSize: '20px' }}>
ðŸŽ¨ Live Theme Demo
</h3>
<p style={{ color: '#a1a1aa', marginBottom: '16px' }}>
See how flexible theming works in real-time:
</p>

      {/* Theme Controls */}
      <div style={{
        display: 'flex',
        gap: '16px',
        alignItems: 'center',
        marginBottom: '24px',
        flexWrap: 'wrap'
      }}>
        <label style={{ color: '#ffffff', fontWeight: '500' }}>
          Theme Mode:
        </label>
        <select
          value={themeMode}
          onChange={(e) => setThemeMode(e.target.value)}
          style={{
            padding: '4px 8px',
            backgroundColor: '#27272a',
            border: '1px solid #3f3f46',
            borderRadius: '4px',
            color: '#ffffff',
            fontSize: '14px'
          }}
        >
          <option value="auto">Auto (System)</option>
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>

        <label style={{
          display: 'flex',
          alignItems: 'center',
          gap: '8px',
          color: '#ffffff',
          fontSize: '14px'
        }}>
          <input
            type="checkbox"
            checked={showCustom}
            onChange={(e) => setShowCustom(e.target.checked)}
            style={{ accentColor: '#3b82f6' }}
          />
          Show Custom Theme
        </label>
      </div>

      {/* Theme Examples */}
      <div style={{
        display: 'grid',
        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',
        gap: '16px'
      }}>
        <div>
          <h4 style={{
            fontSize: '14px',
            fontWeight: '500',
            color: '#60a5fa',
            marginBottom: '8px'
          }}>
            Default Theme (Inherit)
          </h4>
          <MockInput
            theme={themeMode === 'auto' ? 'dark' : themeMode}
            label="Product Description"
            placeholder="Inherits theme from context..."
          />
        </div>

        <div>
          <h4 style={{
            fontSize: '14px',
            fontWeight: '500',
            color: '#60a5fa',
            marginBottom: '8px'
          }}>
            Force Light Theme
          </h4>
          <MockInput
            theme="light"
            label="Product Description"
            placeholder="Always light theme..."
          />
        </div>

        <div>
          <h4 style={{
            fontSize: '14px',
            fontWeight: '500',
            color: '#60a5fa',
            marginBottom: '8px'
          }}>
            Force Dark Theme
          </h4>
          <MockInput
            theme="dark"
            label="Product Description"
            placeholder="Always dark theme..."
          />
        </div>

        {showCustom && (
          <div>
            <h4 style={{
              fontSize: '14px',
              fontWeight: '500',
              color: '#60a5fa',
              marginBottom: '8px'
            }}>
              Custom Purple Theme
            </h4>
            <MockInput
              theme="purple"
              label="Product Description"
              placeholder="Custom purple theme..."
            />
          </div>
        )}
      </div>

      {/* Theme Info */}
      <div style={{
        marginTop: '24px',
        padding: '16px',
        backgroundColor: '#27272a',
        borderRadius: '6px',
        border: '1px solid #3f3f46'
      }}>
        <h4 style={{
          fontSize: '14px',
          fontWeight: '500',
          color: '#ffffff',
          marginBottom: '8px'
        }}>
          Current Theme Info:
        </h4>
        <div style={{ fontSize: '12px', color: '#d1d5db' }}>
          <div style={{ marginBottom: '4px' }}>
            <strong>Selected Theme:</strong> {themeMode}
          </div>
          <div style={{ marginBottom: '4px' }}>
            <strong>System Preference:</strong> {
              typeof window !== 'undefined' && window.matchMedia('(prefers-color-scheme: dark)').matches
                ? 'Dark'
                : 'Light'
            }
          </div>
          <div>
            <strong>Custom Theme:</strong> {showCustom ? 'Purple Theme' : 'Disabled'}
          </div>
        </div>
      </div>

      {/* Code Example */}
      <div style={{
        marginTop: '16px',
        padding: '12px',
        backgroundColor: '#27272a',
        borderRadius: '6px',
        border: '1px solid #3f3f46'
      }}>
        <p style={{
          fontSize: '12px',
          fontWeight: '500',
          color: '#60a5fa',
          marginBottom: '8px'
        }}>
          ðŸ’» Theme Implementation:
        </p>
        <pre style={{
          fontSize: '11px',
          color: '#d1d5db',
          backgroundColor: '#18181b',
          padding: '8px',
          borderRadius: '4px',
          overflow: 'auto',
          margin: 0
        }}>{`// Theme modes

<WhetInput appearance="inherit" /> // Follows context
<WhetInput appearance="light" /> // Force light
<WhetInput appearance="dark" /> // Force dark

// Custom tokens

<WhetInput 
  appearance="tokens"
  styleTokens={{
    primary: '#8b5cf6',
    background: '#faf5ff',
    text: '#581c87'
  }}
/>`}</pre>
      </div>
    </div>
  );
};
